<!-- Fade In/Out -->
<div id="blackFade" class="absolute-fill" style="z-index: 9"></div>

<!-- UI Buttons used to change colors -->
<div id="variants-container">
</div>

<!-- Container for side drawer elements -->
<div class="bottom-container" id="bottom-drawer">
    <ul id="bottom-list">
    </ul>
</div>

<a-scene 
        coaching-overlay="animationColor: #E86FFF; promptText: Move your phone forward & backward for an accurate scale;"
        responsive-immersive
        custom-capture-btn
        xrextras-gesture-detector 
        landing-page 
        xrextras-loading 
        xrextras-runtime-error 
        shadow="type: pcfsoft"
        gltf-model="dracoDecoderPath: https://cdn.8thwall.com/web/aframe/draco-decoder/"
        renderer="colorManagement: true; physicallyCorrectLights: true; antialias: true;"
        xrweb="allowedDevices: any; scale: absolute">

    <!-- We can define assets here to be loaded when A-Frame initializes -->
    <a-assets>
        <!-- Credit to Poly by Google for the model: https://poly.google.com/view/5ZMAz7_ucTn -->
        <a-asset-item id="keyboardModel" src="./keyboardver9.glb"></a-asset-item>
        <a-asset-item id="keyboardModel-transparent" src="./keyboard-transparent9.glb"></a-asset-item>
        <img id="icon" src="../assets/rectangle-icon.png">
    </a-assets>

    <!--- Screen capture function -->
    <xrextras-capture-button capture-mode="photo"></xrextras-capture-button>
    <xrextras-capture-config request-mic="false"></xrextras-capture-config>
    <xrextras-capture-preview></xrextras-capture-preview>

    <!-- The raycaster will emit mouse events on scene objects specified with the cantap class -->
    <a-camera 
        id="camera" 
        position="0 1.5 2" 
        cursor="fuse: false; rayOrigin: mouse;"
        orbit-controls="enabled: false; target: #mo9el">
    </a-camera>

    <a-entity 
            id="cursor" 
            tap-place-cursor
            gltf-model="#keyboardModel-transparent" 
            reflections="type: static">
        <a-plane 
                rotation="-90 90 0" 
                position="0 0 -0.080"
                scale="0.40 0.45 0.2"
                material="src: #icon; opacity: 0.5; roughness: 0.8; metalness: 0;">
        </a-plane>
        <a-text value="Tap screen to place" align="center" position="0 0.11 -0.2" scale="0.15 0.15 0.15"></a-text>
    </a-entity>

    <a-entity 
        xr-light
        light="
            type: directional;
            intensity: 1.1;
            castShadow: true;
            shadowBias: 0;
            shadowMapHeight: 2048;
            shadowMapWidth: 2048;
            target: #model;" 
        xrextras-attach="target: model; offset: 0 10 5;" 
        shadowCameraAutomatic
        shadow>
    </a-entity>

    <a-light 
        type="ambient" 
        intensity="1.9">
    </a-light>

    <a-entity 
        id="model" 
        gltf-model="#keyboardModel" 
        absolute-pinch-scale
        change-texture
        view-info
        xrextras-hold-drag="rise-height: 0.1"
        xrextras-two-finger-rotate
        rotation="0 0 0"
        shadow="receive: false;"
        visible="false">
        <!-- <a-entity id="pointer-line" line="start: 0 0 0; end: 0 2 0; color: white; visible: false"></a-entity> -->
    </a-entity>

    <!-- Adding the cantap class allows the ground to be clicked -->
    <a-plane
        id="ground"
        rotation="-90 0 0"
        position="0 0 0"
        width="100"
        height="100"
        material="shader: shadow; opacity: 0.5;"
        shadow
    ></a-plane>

    <a-sky 
        id="sky" 
        visible="false" 
        material="shader: gradient; topColor: 40 40 40; bottomColor: 80 80 80">
    </a-sky>
</a-scene>