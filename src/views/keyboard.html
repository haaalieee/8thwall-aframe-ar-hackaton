<!-- UI Buttons used to change colors -->
<div id="container"></div>

<a-scene 
        custom-capture-btn
        xrextras-gesture-detector 
        landing-page 
        xrextras-loading 
        xrextras-runtime-error 
        shadow="type: pcfsoft"
        gltf-model="dracoDecoderPath: https://cdn.8thwall.com/web/aframe/draco-decoder/"
        renderer="colorManagement: true; physicallyCorrectLights: true; antialias: true;"
        xrweb="allowedDevices: any;">

    <!-- We can define assets here to be loaded when A-Frame initializes -->
    <a-assets>
        <!-- Credit to Poly by Google for the model: https://poly.google.com/view/5ZMAz7_ucTn -->
        <a-asset-item id="keyboardModel" src="./keyboardver8.glb"></a-asset-item>
        <a-asset-item id="keyboardModel-transparent" src="./keyboard-transparent8.glb"></a-asset-item>
        <img id="icon" src="../assets/rectangle-icon.png">
    </a-assets>

    <!--- Screen capture function -->
    <xrextras-capture-button capture-mode="photo"></xrextras-capture-button>
    <xrextras-capture-config request-mic="false"></xrextras-capture-config>
    <xrextras-capture-preview></xrextras-capture-preview>

    <!-- The raycaster will emit mouse events on scene objects specified with the cantap class -->
    <a-camera 
        id="camera" 
        position="0 1 2" 
        cursor="fuse: false; rayOrigin: mouse;">
    </a-camera>

    <a-entity 
            id="cursor" 
            tap-place-cursor
            gltf-model="#keyboardModel-transparent" 
            scale="5 5 5"
            reflections="type: static">
        <a-plane 
                rotation="-90 90 0" 
                position="0 0 -0.080"
                scale="0.41 0.39 0.2"
                material="src: #icon; opacity: 0.5; roughness: 0.8; metalness: 0;">
        </a-plane>
    </a-entity>

    <a-entity 
        xr-light
        light="
            type: directional;
            intensity: 1.1;
            castShadow: true;
            shadowBias: 0;
            shadowMapHeight: 2048;
            shadowMapWidth: 2048;
            target: #model;" 
        xrextras-attach="target: model; offset: 0 10 5;" 
        shadowCameraAutomatic
        shadow>
    </a-entity>

    <a-light 
        type="ambient" 
        intensity="1.9">
    </a-light>

    <a-entity 
        id="model" 
        gltf-model="#keyboardModel" 
        absolute-pinch-scale
        change-texture
        xrextras-hold-drag="rise-height: 0.8"
        xrextras-two-finger-rotate
        rotation="0 0 0"
        scale="5 5 5"
        shadow="receive: false;"
        visible="false">
        <!-- Hotspots-->
        <a-entity id="hotspot-group">
            <a-sphere 
                id="hs-keys" 
                position="0.110 0.040 0.070" 
                radius="0.05"
                annotation="text: Lorem ipsum dolor isset"
                class="cantap"
          ></a-sphere>
          
        </a-entity>
    </a-entity>

    <!-- Adding the cantap class allows the ground to be clicked -->
    <a-plane
        id="ground"
        rotation="-90 0 0"
        position="0 0 0"
        width="100"
        height="100"
        material="shader: shadow; opacity: 0.5;"
        shadow
    ></a-plane>
</a-scene>